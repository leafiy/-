##TIPs

###高级函数

####安全的类型检测

```js
Object.prototype.toString.call(value);
[object Array] // 检查是否是 Array
[object Function] // 是否是function
[object RegExp] // 是否是regexp
```

####作用域安全的构造函数

- 作用域安全的构造函数在进行任何更改时，先确认`this`对象是正确类型的实例

```js
function Person(name){
	if(this instanceof Person){
		this.name = name;
	}else{
		return new Person(name)
	}
}
// 调用构造函数时，无论是否使用new操作符，都返回Person的新实例
```

####惰性载入函数

- 惰性载入表示函数执行的分支仅会发生一次
- 在第一次调用的过程中，该函数会被覆盖为另一个按合适方式执行的函数
- 在声明函数时就指定适当的函数 `return function...`

####函数绑定

- 函数绑定要创建一个函数，可以在特定的 `this` 环境中以指定参数调用另一个函数
- 使用ES5 原生 `bind()` 方法传递 `this`

```js
function bind(fn, context){
	return function(){
		return fn.apply(context, arguments)
	}
}
```

####函数柯里化

- 调用另一个函数病危它传入要柯里化的函数和必要参数

```js
function curry(fn){
	var args = Array.prototype.slice.call(arguments, 1);
	return function(){
		var innerArgs = Array.prototype.slice.call(arguments);
		var finalArgs = args.concat(innerArgs);
		return fn.apply(null,finalArgs)
	}
}
```

###放篡改对象

####不可扩展对象

- `Object.preventExtensions()` 可以禁止加入新的属性
- `Object.isExtensible()` 查询对象是否可以扩展

####密封对象

- sealed object密封对象不可扩展，使用 `Object.seal()` 方法密封对象，而且已有成员的 `[[Configurable]]` 特性被设置为false
- 不能删除属性和方法，因为不能使用 `Object.defineProperty()` 把数据属性修改为访问器属性，或者相反
- 属性值是可以修改的
- `Object.isSealed()` 查询对象是否被密封

####冻结的对象

- frozen object是最严格的防篡改级别是冻结对象，使用 `Object.freeze()` 设置，冻结的对象既不可扩展，又是密封的
- 对象数据属性的 `[[Writable]]` 特性会被设置为 `false`
- 如果定义 `[[Set]]` 函数，访问器属性仍然是可写的
- `Object.isFreeze()` 查询对象是否被冻结

#### Yielding Processes

> 一旦某个函数需要花50ms以上的时间完成，那么最好看看能否将任务分割为一系列可以使用定时器的小任务

```js
function chunk(array, process, context){
	setTimeout(function(){
		var item = array.shift();
		process.call(text,item);
		if(array.length > 0){
			setTimeout(arguments.callee, 100)
		}
	},100)
}
```

####函数节流

> 代码不可以在没有间断的情况连续重复执行。

> 第一次调用函数，创建一个定时器，在指定的时间间隔之后运行代码。当第二次调用该函数时，它会清除前一次的定时器并设置另一个

> 只要代码是周期性执行的，都应该使用节流

```js
function throttle(method,context){
	clearTimeout(method.tId);
	method.tId = setTimeout(function(){
		method.call(context);
	},100)
}
//example
function resizeDiv(){}
window.onresize = function(){
    throttle(resizeDiv)
}
```